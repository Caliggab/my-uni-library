[{"/home/caliggab/Documents/Code/my-uni-library/client/src/index.js":"1","/home/caliggab/Documents/Code/my-uni-library/client/src/App.js":"2","/home/caliggab/Documents/Code/my-uni-library/client/src/layout/Footer.js":"3","/home/caliggab/Documents/Code/my-uni-library/client/src/layout/Navbar.js":"4","/home/caliggab/Documents/Code/my-uni-library/client/src/views/General.js":"5","/home/caliggab/Documents/Code/my-uni-library/client/src/components/BookList.js":"6","/home/caliggab/Documents/Code/my-uni-library/client/src/components/BorrowedBooks.js":"7","/home/caliggab/Documents/Code/my-uni-library/client/src/components/LogIn.js":"8","/home/caliggab/Documents/Code/my-uni-library/client/src/components/AdminDashboard.js":"9","/home/caliggab/Documents/Code/my-uni-library/client/src/components/BookSearch.js":"10","/home/caliggab/Documents/Code/my-uni-library/client/src/components/UserList.js":"11","/home/caliggab/Documents/Code/my-uni-library/client/src/components/BooksAdmin.js":"12","/home/caliggab/Documents/Code/my-uni-library/client/src/components/Book.js":"13","/home/caliggab/Documents/Code/my-uni-library/client/src/components/AddUser.js":"14","/home/caliggab/Documents/Code/my-uni-library/client/src/components/AddBook.js":"15","/home/caliggab/Documents/Code/my-uni-library/client/src/components/UserRow.js":"16","/home/caliggab/Documents/Code/my-uni-library/client/src/components/DeleteUserPrompt.js":"17","/home/caliggab/Documents/Code/my-uni-library/client/src/components/BookRow.js":"18","/home/caliggab/Documents/Code/my-uni-library/client/src/UI/Modal.js":"19","/home/caliggab/Documents/Code/my-uni-library/client/src/components/BookInfo.js":"20","/home/caliggab/Documents/Code/my-uni-library/client/src/UI/Card.js":"21","/home/caliggab/Documents/Code/my-uni-library/client/src/components/BorrowedBy.js":"22","/home/caliggab/Documents/Code/my-uni-library/client/src/components/BorrowingUser.js":"23"},{"size":254,"mtime":1654664568633,"results":"24","hashOfConfig":"25"},{"size":9346,"mtime":1655014929489,"results":"26","hashOfConfig":"25"},{"size":305,"mtime":1654812779937,"results":"27","hashOfConfig":"25"},{"size":2969,"mtime":1654940630013,"results":"28","hashOfConfig":"25"},{"size":2086,"mtime":1654946595585,"results":"29","hashOfConfig":"25"},{"size":1380,"mtime":1654946751628,"results":"30","hashOfConfig":"25"},{"size":1525,"mtime":1655007953793,"results":"31","hashOfConfig":"25"},{"size":2119,"mtime":1655003739186,"results":"32","hashOfConfig":"25"},{"size":1058,"mtime":1654836123944,"results":"33","hashOfConfig":"25"},{"size":1064,"mtime":1654778490238,"results":"34","hashOfConfig":"25"},{"size":1867,"mtime":1654937044285,"results":"35","hashOfConfig":"25"},{"size":1940,"mtime":1654936951564,"results":"36","hashOfConfig":"25"},{"size":1334,"mtime":1655007937865,"results":"37","hashOfConfig":"25"},{"size":3753,"mtime":1654919974384,"results":"38","hashOfConfig":"25"},{"size":2728,"mtime":1654921614326,"results":"39","hashOfConfig":"25"},{"size":1442,"mtime":1654919290219,"results":"40","hashOfConfig":"25"},{"size":1550,"mtime":1655007984516,"results":"41","hashOfConfig":"25"},{"size":1433,"mtime":1654944733330,"results":"42","hashOfConfig":"25"},{"size":765,"mtime":1654748117582,"results":"43","hashOfConfig":"25"},{"size":3099,"mtime":1655007943873,"results":"44","hashOfConfig":"25"},{"size":156,"mtime":1654671429837,"results":"45","hashOfConfig":"25"},{"size":693,"mtime":1655008614289,"results":"46","hashOfConfig":"25"},{"size":515,"mtime":1655007976836,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"4m6uur",{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83"},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87"},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107"},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114"},{"filePath":"115","messages":"116","suppressedMessages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","suppressedMessages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","suppressedMessages":"123","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/caliggab/Documents/Code/my-uni-library/client/src/index.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/App.js",["124","125","126","127","128","129","130","131","132"],[],"import { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Footer from \"./layout/Footer\";\nimport Navbar from \"./layout/Navbar\";\nimport General from \"./views/General\";\n\nfunction App() {\n  const [auth, setAuth] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [currentList, setCurrentList] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(null);\n  const [category, setCategory] = useState(null);\n\n  // useEffect(() => {\n  //   if (localStorage.user) {\n  //     handleLogin();\n  //     setCurrentUser(JSON.parse(localStorage.user).user);\n  //   }\n  // }, []);\n\n  //get User List\n\n  const getUsers = async () => {\n    try {\n      const response = await fetch(\"/users\");\n      const jsonData = await response.json();\n\n      setUsers(jsonData);\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n\n  //get Book list\n\n  const getBooks = async () => {\n    try {\n      const response = await fetch(\"/books\");\n      const jsonData = await response.json();\n\n      setCurrentList(jsonData);\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n\n  useEffect(() => {\n    getBooks();\n    getUsers();\n  }, []);\n\n  const handleFilter = async (searchTerm, category) => {\n    setSearchTerm(searchTerm);\n    setCategory(category);\n  };\n\n  const handleToggleAuth = () => {\n    localStorage.clear();\n    setCurrentUser({});\n    setAuth(!auth);\n  };\n\n  const handleLogin = () => {\n    setAuth(true);\n  };\n\n  const handleLogout = () => {\n    localStorage.clear();\n    setAuth(false);\n  };\n\n  const handleSetCurrentUser = (user) => {\n    setCurrentUser(user.user);\n  };\n\n  const borrowBookHandler = async (newBook, userId) => {\n    try {\n      const foundBook = await fetch(`/books/${newBook.book_id}`);\n      const bookJsonData = await foundBook.json();\n\n      const foundUser = await fetch(`/users/${userId}`);\n      const userJsonData = await foundUser.json();\n\n      let body =\n        userJsonData.borrowed.length !== 0\n          ? [...userJsonData.borrowed, bookJsonData.book_id]\n          : [bookJsonData.book_id];\n\n      //update user's BORROWED field\n\n      const response = await fetch(`/users/${userId}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ borrowed: body }),\n      });\n\n      // const userJsonResponse = await response.json();\n\n      let borrowedBy =\n        bookJsonData.borrowed_by.length !== 0\n          ? [...bookJsonData.borrowed_by, userId]\n          : [userId];\n\n      // update book's STOCK and BORROWED_BY\n\n      const secondResponse = await fetch(`/books/${bookJsonData.book_id}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          borrowed_by: borrowedBy,\n          stock: bookJsonData.stock - 1,\n        }),\n      });\n      getBooks();\n      getUsers();\n      // const bookJsonResponse = await response.json();\n    } catch (error) {\n      console.error(error.message);\n    }\n\n    // users.map((user) => {\n    //   if (user.username === currentUser.username) {\n    //     user.borrowed.push(newBook);\n    //     newUserList.push(user);\n    //     setCurrentUser(user);\n    //   } else {\n    //     newUserList.push(user);\n    //   }\n    // });\n\n    // currentList.map((book) => {\n    //   if (newBook.id === book.id) {\n    //     let borrowingUser = users.filter((user) => user.id === userId)[0];\n    //     // let borrowedBy = [];\n    //     // book.borrowedBy.forEach((user) => {\n    //     //   borrowedBy.push([user]);\n    //     // });\n\n    //     book.borrowedBy.push(borrowingUser);\n\n    //     // if (book.borrowedBy.length > 0) {\n    //     //   borrowedBy = [...book.borrowedBy, user]\n    //     // } else {\n    //     //   borrowedBy.push(user);\n    //     // }\n\n    //     newBookList.push({\n    //       ...book,\n    //       stock: book.stock - 1,\n    //       borrowedBy: book.borrowedBy,\n    //     });\n    //   } else {\n    //     newBookList.push(book);\n    //   }\n    // });\n    // setUsers(newUserList);\n    // setCurrentList(newBookList);\n  };\n\n  const addUserHandler = async (\n    inputUserName,\n    inputFirstName,\n    inputLastName,\n    inputEmail,\n    inputRole,\n    inputPassWord\n  ) => {\n    const response = await fetch(\"/users\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        username: inputUserName,\n        firstname: inputFirstName,\n        lastname: inputLastName,\n        email: inputEmail,\n        role: inputRole,\n        password: inputPassWord,\n        borrowed: [],\n      }),\n    });\n\n    const jsonData = await response.json();\n\n    getUsers();\n  };\n\n  const deleteUserHandler = async (id) => {\n    try {\n      const response = await fetch(`/users/${id}`, {\n        method: \"DELETE\",\n      });\n\n      getUsers();\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n\n  const returnBookHandler = async (bookId, userId) => {\n    try {\n      const foundBook = await fetch(`/books/${bookId}`);\n      const bookJsonData = await foundBook.json();\n\n      const foundUser = await fetch(`/users/${userId}`);\n      const userJsonData = await foundUser.json();\n\n      //delete book from users's borrowed\n      const index = userJsonData.borrowed.indexOf(bookId);\n      let newBorrowed = userJsonData.borrowed;\n\n      let removed = userJsonData.borrowed.splice(index);\n\n      const response = await fetch(`/users/${userId}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ borrowed: newBorrowed }),\n      });\n\n      const userJsonResponse = await response.json();\n\n      //modify BorrowedBY in book  and increase Book Stock\n\n      const secondindex = bookJsonData.borrowed_by.indexOf(userId);\n      let newBorrowedBy = bookJsonData.borrowed_by;\n\n      let secondRemoved = bookJsonData.borrowed_by.splice(secondindex);\n\n      const secondResponse = await fetch(`/books/${bookId}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          borrowed_by: newBorrowedBy,\n          stock: bookJsonData.stock + 1,\n        }),\n      });\n\n      getBooks();\n      getUsers();\n    } catch (error) {\n      console.error(error.message);\n    }\n\n    // let newBooklist = [];\n    // let newUserList = [];\n    // //delete book from borrowed in user\n    // let foundUser = users.filter((user) => user.id === userId)[0];\n    // console.log(foundUser);\n    // let newBorrowed = foundUser.borrowed.filter((book) => book.id !== bookId);\n    // let newUser = {\n    //   id: foundUser.id,\n    //   username: foundUser.username,\n    //   firstName: foundUser.firstName,\n    //   lastName: foundUser.lastName,\n    //   email: foundUser.email,\n    //   role: foundUser.role,\n    //   password: foundUser.password,\n    //   borrowed: newBorrowed,\n    // };\n\n    // users.map((user) => {\n    //   if (user.id === userId) {\n    //     newUserList.push(newUser);\n    //   } else {\n    //     newUserList.push(user);\n    //   }\n    // });\n\n    // //increase stock AND modify borrowedBy in book\n    // let foundBook = currentList.filter((book) => book.id === bookId)[0];\n    // let newBorrowedBy = foundBook.borrowedBy.filter(\n    //   (user) => user.id !== userId\n    // );\n\n    // let newBook = {\n    //   id: foundBook.id,\n    //   title: foundBook.title,\n    //   author: foundBook.author,\n    //   published_year: foundBook.published_year,\n    //   genre: foundBook.genre,\n    //   image: foundBook.image,\n    //   stock: foundBook.stock + 1,\n    //   borrowedBy: newBorrowedBy,\n    // };\n\n    // currentList.map((book) => {\n    //   if (book.id === bookId) {\n    //     newBooklist.push(newBook);\n    //   } else {\n    //     newBooklist.push(book);\n    //   }\n    // });\n\n    // setCurrentList(newBooklist);\n    // setUsers(newUserList);\n  };\n\n  const newBookHandler = async (\n    inputTitle,\n    inputAuthor,\n    inputPublishedYear,\n    inputGenre,\n    inputImgUrl,\n    inputStock\n  ) => {\n    const response = await fetch(\"/books\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        title: inputTitle,\n        author: inputAuthor,\n        published_year: inputPublishedYear,\n        genre: inputGenre,\n        image: inputImgUrl,\n        stock: inputStock,\n        borrowed_by: [],\n      }),\n    });\n\n    const jsonData = await response.json();\n\n    getBooks();\n  };\n\n  return (\n    <>\n      <Navbar\n        auth={auth}\n        toggleAuth={handleToggleAuth}\n        login={handleLogin}\n        logout={handleLogout}\n        users={users}\n        currentUser={currentUser}\n        currentList={currentList}\n        setCurrentUser={handleSetCurrentUser}\n        getBooks={getBooks}\n        getUsers={getUsers}\n      />\n      <General\n        auth={auth}\n        users={users}\n        setUsers={borrowBookHandler}\n        addUser={addUserHandler}\n        currentUser={currentUser}\n        currentList={currentList}\n        handleFilter={handleFilter}\n        deleteUser={deleteUserHandler}\n        returnBook={returnBookHandler}\n        addBook={newBookHandler}\n        searchTerm={searchTerm}\n        category={category}\n      />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","/home/caliggab/Documents/Code/my-uni-library/client/src/layout/Footer.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/layout/Navbar.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/views/General.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/components/BookList.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/components/BorrowedBooks.js",["133","134"],[],"import React, { useEffect, useState } from \"react\";\nimport Modal from \"../UI/Modal\";\nimport classes from \"./BorrowedBooks.module.css\";\n\nfunction BorrowedBooks(props) {\n  let user = props.users.filter(\n    (user) => user.user_id === props.currentUser.user_id\n  );\n\n  let parsedBookList = props.currentList.filter((book) =>\n    user[0].borrowed.includes(book.book_id)\n  );\n\n  let list = parsedBookList.map((book) => {\n    return (\n      <div className={classes.tableRow}>\n        <div className={classes.tableCell}>{book.book_id}</div>\n        <div className={classes.tableCell}> {book.title}</div>\n        <div className={classes.tableCell}>{book.author}</div>\n      </div>\n    );\n  });\n\n  return (\n    <Modal onClose={props.onClose}>\n      <button onClick={props.onClose} className={classes.closeButton}>\n        X\n      </button>\n      <div className={classes.title}>Your Borrowed Books</div>\n      {user[0].borrowed.length === 0 ? (\n        <div>No Borrowed Books Yet!</div>\n      ) : (\n        <div>\n          <div className={classes.tableContainer}>\n            <div className={`${classes.tableRow} ${classes.titleRow}`}>\n              <div className={classes.tableCell}>Book Id </div>\n              <div className={classes.tableCell}>Title </div>\n              <div className={classes.tableCell}>Author</div>\n            </div>\n            {list}\n          </div>\n          <div className={classes.ask}>Ask your librarian to return books.</div>\n        </div>\n      )}\n    </Modal>\n  );\n}\n\nexport default BorrowedBooks;\n","/home/caliggab/Documents/Code/my-uni-library/client/src/components/LogIn.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/components/AdminDashboard.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/components/BookSearch.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/components/UserList.js",["135","136","137","138"],[],"import React, { useState } from \"react\";\nimport { FaUserPlus } from \"react-icons/fa\";\nimport AddUser from \"./AddUser\";\nimport DeleteUserPrompt from \"./DeleteUserPrompt\";\nimport classes from \"./UserList.module.css\";\nimport UserRow from \"./UserRow\";\n\nfunction UserList(props) {\n  const [displayAddUser, setDisplayAddUser] = useState(false);\n  const [displayDeleteUser, setDisplayDeleteUser] = useState(false);\n\n  const onHandleOpenAdd = () => {\n    setDisplayAddUser(true);\n  };\n\n  const onHandleCloseAdd = () => {\n    setDisplayAddUser(false);\n  };\n  const onHandleOpenDelete = () => {\n    setDisplayDeleteUser(true);\n  };\n  const onHandleCloseDelete = () => {\n    setDisplayDeleteUser(false);\n  };\n\n  let users = props.users\n    .sort((a, b) => a.user_id - b.user_id)\n    .map((user) => {\n      return (\n        <UserRow\n          user={user}\n          deleteUser={props.deleteUser}\n          currentUser={props.currentUser}\n        />\n      );\n    });\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.title}>User List</div>\n\n      <button className={classes.button} onClick={onHandleOpenAdd}>\n        <FaUserPlus className={classes.icon} />\n        Add User\n      </button>\n\n      {displayAddUser ? (\n        <AddUser onClose={onHandleCloseAdd} addUser={props.addUser} />\n      ) : (\n        \"\"\n      )}\n\n      <div className={classes.topRow}>\n        <div className={classes.cell}>Id</div>\n        <div className={classes.cell}>Username</div>\n        <div className={classes.cell}>First Name</div>\n        <div className={classes.cell}>Last Name</div>\n        <div className={classes.cell}>Email</div>\n        <div className={classes.cell}>Role</div>\n        {/* <div className={classes.cell}>Change</div> */}\n        <div className={classes.cell}>Delete</div>\n      </div>\n      {users}\n    </div>\n  );\n}\n\nexport default UserList;\n","/home/caliggab/Documents/Code/my-uni-library/client/src/components/BooksAdmin.js",["139","140","141"],[],"import React, { useState } from \"react\";\nimport { FaBook } from \"react-icons/fa\";\nimport AddBook from \"./AddBook\";\nimport BookRow from \"./BookRow\";\nimport classes from \"./BooksAdmin.module.css\";\n\nfunction BooksAdmin(props) {\n  const [displayAddBook, setDisplayAddBook] = useState(false);\n  const [displayDeleteBook, setDisplayDeleteBook] = useState(false);\n\n  const onHandleOpenAdd = () => {\n    setDisplayAddBook(true);\n  };\n\n  const onHandleCloseAdd = () => {\n    setDisplayAddBook(false);\n  };\n  const onHandleOpenDelete = () => {\n    setDisplayDeleteBook(true);\n  };\n  const onHandleCloseDelete = () => {\n    setDisplayDeleteBook(false);\n  };\n\n  let Books = props.bookList\n    .sort((a, b) => a.book_id - b.book_id)\n    .map((Book) => {\n      return (\n        <BookRow\n          book={Book}\n          deleteBook={props.deleteBook}\n          currentBook={props.currentBook}\n          returnBook={props.returnBook}\n          users={props.users}\n        />\n      );\n    });\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.title}>Book List</div>\n\n      <button className={classes.button} onClick={onHandleOpenAdd}>\n        <FaBook className={classes.icon} />\n        Add Book\n      </button>\n\n      {displayAddBook ? (\n        <AddBook onClose={onHandleCloseAdd} addBook={props.addBook} />\n      ) : (\n        \"\"\n      )}\n\n      <div className={classes.topRow}>\n        <div className={classes.cell}>Id</div>\n        <div className={classes.cell}>Title</div>\n        <div className={classes.cell}>Author</div>\n        <div className={classes.cell}>Year</div>\n        <div className={classes.cell}>Genre</div>\n        <div className={classes.cell}>Stock</div>\n        <div className={classes.cell}>Borrowed By</div>\n        {/* <div className={classes.cell}>Change</div> */}\n        {/* <div className={classes.cell}>Delete</div> */}\n      </div>\n      {Books}\n    </div>\n  );\n}\n\nexport default BooksAdmin;\n","/home/caliggab/Documents/Code/my-uni-library/client/src/components/Book.js",["142"],[],"import React, { useState } from \"react\";\nimport Card from \"../UI/Card\";\nimport classes from \"./Book.module.css\";\nimport BookInfo from \"./BookInfo\";\n\nfunction Book(props) {\n  const [displayInfo, setDisplayInfo] = useState(false);\n\n  const handleOpenInfo = () => {\n    setDisplayInfo(true);\n  };\n  const handleCloseInfo = () => {\n    setDisplayInfo(false);\n  };\n\n\n  return (\n    <Card className={classes.card}>\n      <div className={classes.container}>\n        <div>\n          <img src={props.book.image} className={classes.image}></img>\n        </div>\n        <div className={classes.infoBox}>\n          <div>{props.book.title}</div>\n          <div>By {props.book.author}</div>\n          <div>{props.book.genre}</div>\n          {props.currentUser.role === \"Student\" || !props.currentUser.role ? (\n            <div className={classes.infoButton} onClick={handleOpenInfo}>\n              More info\n            </div>\n          ) : (\n            \"\"\n          )}\n        </div>\n        {displayInfo ? (\n          <BookInfo\n            book={props.book}\n            onClose={handleCloseInfo}\n            setUsers={props.setUsers}\n            auth={props.auth}\n            currentUser={props.currentUser}\n            users={props.users}\n          />\n        ) : (\n          \"\"\n        )}\n      </div>\n    </Card>\n  );\n}\n\nexport default Book;\n","/home/caliggab/Documents/Code/my-uni-library/client/src/components/AddUser.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/components/AddBook.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/components/UserRow.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/components/DeleteUserPrompt.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/components/BookRow.js",["143"],[],"import React, { useState } from \"react\";\nimport classes from \"./BookRow.module.css\";\nimport BorrowedBy from \"./BorrowedBy\";\n\nfunction BookRow(props) {\n  // let borrowed = [];\n  // props.book.borrowed_by.map((user) => borrowed.push(user));\n\n  return (\n    <div className={classes.row}>\n      <div className={classes.cell}>{props.book.book_id}</div>\n      <div className={classes.cell}>{props.book.title}</div>\n      <div className={classes.cell}>{props.book.author}</div>\n      <div className={classes.cell}>{props.book.published_year}</div>\n      <div className={classes.cell}>{props.book.genre}</div>\n      <div className={classes.cell}>{props.book.stock}</div>\n      <div className={classes.cell}>\n        <BorrowedBy\n          borrowedList={props.book.borrowed_by}\n          returnBook={props.returnBook}\n          bookId={props.book.book_id}\n          book={props.book}\n          users={props.users}\n        />\n      </div>\n\n      {/* <div className={classes.cell}>Change</div> */}\n      {/* <div className={classes.cell}>\n            <button className={classes.changeButton}>Change</button>\n          </div> */}\n      {/* {displayDeleteUser ? (\n          <DeleteUserPrompt\n            close={onHandleCloseDelete}\n            deleteUser={props.deleteUser}\n            id={props.user.id}\n            currentUser={props.currentUser}\n          />\n        ) : (\n          \"\"\n        )} */}\n    </div>\n  );\n}\n\nexport default BookRow;\n","/home/caliggab/Documents/Code/my-uni-library/client/src/UI/Modal.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/components/BookInfo.js",["144","145"],[],"import React, { useEffect, useState } from \"react\";\nimport Modal from \"../UI/Modal\";\nimport classes from \"./BookInfo.module.css\";\n\nfunction BookInfo(props) {\n  const [isAlreadyBorrowed, setIsAlreadyBorrowed] = useState(false);\n\n  let borrowedIds;\n\n\n  if (props.users !== undefined) {\n    borrowedIds = props.users.filter(\n      (user) => props.currentUser.user_id === user.user_id\n    );\n  } else {\n    borrowedIds = [];\n  }\n\n  useEffect(() => {\n    if (props.currentUser.borrowed) {\n      borrowedIds[0].borrowed.forEach((book) => {\n        if (book === props.book.book_id) {\n          setIsAlreadyBorrowed(true);\n        }\n      });\n    }\n  }, [props.book.book_id, props.currentUser.borrowed]);\n\n  const onBorrowHandler = () => {\n    setIsAlreadyBorrowed(true);\n    props.setUsers(props.book, props.currentUser.user_id);\n  };\n\n\n  return (\n    <Modal onClose={props.onClose} className={classes.modal}>\n      <div className={classes.container}>\n        <button onClick={props.onClose} className={classes.closeButton}>\n          X\n        </button>\n        <img src={props.book.image} className={classes.image} />\n        <div className={classes.infoBox}>\n          <div>\n            <strong>Title:</strong> {props.book.title}\n          </div>\n          <div>\n            <strong>Author:</strong> {props.book.author}\n          </div>\n          <div>\n            <strong>Genre:</strong> {props.book.genre}\n          </div>\n          <div>\n            <strong>Published year: </strong>\n            {props.book.published_year}\n          </div>\n          <div>\n            <strong>Book Id:</strong> {props.book.book_id}\n          </div>\n          <div className={classes.stock}>\n            {props.auth && props.currentUser.role === \"Librarian\" ? (\n              <div className={classes.buttonBox}>\n                <button className={classes.orderButton}>See borrowers</button>\n                <button className={classes.orderButton}>Edit Info</button>\n              </div>\n            ) : props.book.stock !== 0 ? (\n              <div className={classes.orderBox}>\n                <div>\n                  <strong>On Stock:</strong> {props.book.stock}\n                </div>\n                {props.auth &&\n                !isAlreadyBorrowed &&\n                props.currentUser.role === \"Student\" ? (\n                  <button\n                    className={classes.orderButton}\n                    onClick={onBorrowHandler}\n                  >\n                    Borrow\n                  </button>\n                ) : props.auth &&\n                  isAlreadyBorrowed &&\n                  props.currentUser.role === \"Student\" ? (\n                  <button className={classes.orderedButton}>\n                    You already borrowed this book\n                  </button>\n                ) : (\n                  <div className={classes.loginButton}>Login to Borrow!</div>\n                )}\n              </div>\n            ) : (\n              <div className={classes.outStock}>Out of Stock!</div>\n            )}\n          </div>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nexport default BookInfo;\n","/home/caliggab/Documents/Code/my-uni-library/client/src/UI/Card.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/components/BorrowedBy.js",[],[],"/home/caliggab/Documents/Code/my-uni-library/client/src/components/BorrowingUser.js",[],[],{"ruleId":"146","severity":1,"message":"147","line":92,"column":13,"nodeType":"148","messageId":"149","endLine":92,"endColumn":21},{"ruleId":"146","severity":1,"message":"150","line":107,"column":13,"nodeType":"148","messageId":"149","endLine":107,"endColumn":27},{"ruleId":"146","severity":1,"message":"151","line":183,"column":11,"nodeType":"148","messageId":"149","endLine":183,"endColumn":19},{"ruleId":"146","severity":1,"message":"147","line":190,"column":13,"nodeType":"148","messageId":"149","endLine":190,"endColumn":21},{"ruleId":"146","severity":1,"message":"152","line":212,"column":11,"nodeType":"148","messageId":"149","endLine":212,"endColumn":18},{"ruleId":"146","severity":1,"message":"153","line":220,"column":13,"nodeType":"148","messageId":"149","endLine":220,"endColumn":29},{"ruleId":"146","severity":1,"message":"154","line":227,"column":11,"nodeType":"148","messageId":"149","endLine":227,"endColumn":24},{"ruleId":"146","severity":1,"message":"150","line":229,"column":13,"nodeType":"148","messageId":"149","endLine":229,"endColumn":27},{"ruleId":"146","severity":1,"message":"151","line":320,"column":11,"nodeType":"148","messageId":"149","endLine":320,"endColumn":19},{"ruleId":"146","severity":1,"message":"155","line":1,"column":17,"nodeType":"148","messageId":"149","endLine":1,"endColumn":26},{"ruleId":"146","severity":1,"message":"156","line":1,"column":28,"nodeType":"148","messageId":"149","endLine":1,"endColumn":36},{"ruleId":"146","severity":1,"message":"157","line":4,"column":8,"nodeType":"148","messageId":"149","endLine":4,"endColumn":24},{"ruleId":"146","severity":1,"message":"158","line":10,"column":10,"nodeType":"148","messageId":"149","endLine":10,"endColumn":27},{"ruleId":"146","severity":1,"message":"159","line":19,"column":9,"nodeType":"148","messageId":"149","endLine":19,"endColumn":27},{"ruleId":"146","severity":1,"message":"160","line":22,"column":9,"nodeType":"148","messageId":"149","endLine":22,"endColumn":28},{"ruleId":"146","severity":1,"message":"161","line":9,"column":10,"nodeType":"148","messageId":"149","endLine":9,"endColumn":27},{"ruleId":"146","severity":1,"message":"159","line":18,"column":9,"nodeType":"148","messageId":"149","endLine":18,"endColumn":27},{"ruleId":"146","severity":1,"message":"160","line":21,"column":9,"nodeType":"148","messageId":"149","endLine":21,"endColumn":28},{"ruleId":"162","severity":1,"message":"163","line":21,"column":11,"nodeType":"164","endLine":21,"endColumn":65},{"ruleId":"146","severity":1,"message":"156","line":1,"column":17,"nodeType":"148","messageId":"149","endLine":1,"endColumn":25},{"ruleId":"165","severity":1,"message":"166","line":27,"column":6,"nodeType":"167","endLine":27,"endColumn":54,"suggestions":"168"},{"ruleId":"162","severity":1,"message":"163","line":41,"column":9,"nodeType":"164","endLine":41,"endColumn":65},"no-unused-vars","'response' is assigned a value but never used.","Identifier","unusedVar","'secondResponse' is assigned a value but never used.","'jsonData' is assigned a value but never used.","'removed' is assigned a value but never used.","'userJsonResponse' is assigned a value but never used.","'secondRemoved' is assigned a value but never used.","'useEffect' is defined but never used.","'useState' is defined but never used.","'DeleteUserPrompt' is defined but never used.","'displayDeleteUser' is assigned a value but never used.","'onHandleOpenDelete' is assigned a value but never used.","'onHandleCloseDelete' is assigned a value but never used.","'displayDeleteBook' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'borrowedIds'. Either include it or remove the dependency array.","ArrayExpression",["169"],{"desc":"170","fix":"171"},"Update the dependencies array to be: [borrowedIds, props.book.book_id, props.currentUser.borrowed]",{"range":"172","text":"173"},[646,694],"[borrowedIds, props.book.book_id, props.currentUser.borrowed]"]