{"ast":null,"code":"var _jsxFileName = \"/home/caliggab/Documents/Code/my-uni-library/client/src/components/LogIn.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from \"react\";\nimport Modal from \"../UI/Modal\";\nimport classes from \"./LogIn.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LogIn(props) {\n  _s();\n\n  const [error, setError] = useState(false);\n  const [invalid, setInvalid] = useState(false);\n  const usernameRef = useRef();\n  const passwordRef = useRef();\n  const users = props.users;\n\n  const handleLogin = e => {\n    e.preventDefault();\n    let inputUsername = usernameRef.current.value;\n    let inputPassword = passwordRef.current.value;\n    users.forEach(user => {\n      if (inputUsername.length < 3 || inputPassword.length < 3) {\n        setInvalid(true);\n        setError(false);\n        return;\n      }\n\n      if (inputUsername === user.username && inputPassword === user.password) {\n        props.login();\n        props.setCurrentUser({\n          user\n        });\n        props.close();\n      } else {\n        setError(true);\n        setInvalid(false);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    onClose: props.close,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.title,\n        children: \"Access your account to borrow books!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        className: classes.form,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"User Name\",\n          ref: usernameRef,\n          className: classes.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          ref: passwordRef,\n          className: classes.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: classes.logInButton,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.error,\n        children: \"Sorry! check your info and try again. If you don't have an account ask your librarian for help.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this) : \"\", invalid ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.error,\n        children: \"Sorry! Fields should be longer.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this) : \"\", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: props.close,\n        className: classes.closeButton,\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LogIn, \"0WxOMt6d9SWdyoxaMXDGbTzzGaU=\");\n\n_c = LogIn;\nexport default LogIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"names":["React","useRef","useState","Modal","classes","LogIn","props","error","setError","invalid","setInvalid","usernameRef","passwordRef","users","handleLogin","e","preventDefault","inputUsername","current","value","inputPassword","forEach","user","length","username","password","login","setCurrentUser","close","container","title","form","input","logInButton","closeButton"],"sources":["/home/caliggab/Documents/Code/my-uni-library/client/src/components/LogIn.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport Modal from \"../UI/Modal\";\nimport classes from \"./LogIn.module.css\";\n\nfunction LogIn(props) {\n  const [error, setError] = useState(false);\n  const [invalid, setInvalid] = useState(false);\n  const usernameRef = useRef();\n  const passwordRef = useRef();\n  const users = props.users;\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    let inputUsername = usernameRef.current.value;\n    let inputPassword = passwordRef.current.value;\n\n    users.forEach((user) => {\n      if (inputUsername.length < 3 || inputPassword.length < 3) {\n        setInvalid(true);\n        setError(false);\n        return;\n      }\n      if (inputUsername === user.username && inputPassword === user.password) {\n        props.login();\n        props.setCurrentUser({ user });\n        props.close();\n      } else {\n        setError(true);\n        setInvalid(false);\n      }\n    });\n  };\n\n  return (\n    <Modal onClose={props.close}>\n      <div className={classes.container}>\n        <div className={classes.title}>\n          Access your account to borrow books!\n        </div>\n        <form onSubmit={handleLogin} className={classes.form}>\n          <input\n            type=\"text\"\n            placeholder=\"User Name\"\n            ref={usernameRef}\n            className={classes.input}\n          ></input>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            ref={passwordRef}\n            className={classes.input}\n          ></input>\n\n          <button className={classes.logInButton}>Login</button>\n        </form>\n        {error ? (\n          <div className={classes.error}>\n            Sorry! check your info and try again.\n            If you don't have an account ask your librarian for help.\n          </div>\n        ) : (\n          \"\"\n        )}\n        {invalid ? (\n          <div className={classes.error}>Sorry! Fields should be longer.</div>\n        ) : (\n          \"\"\n        )}\n\n        <button onClick={props.close} className={classes.closeButton}>\n          X\n        </button>\n      </div>\n    </Modal>\n  );\n}\n\nexport default LogIn;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}